(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{741:function(e,r,t){var content=t(815);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(13).default)("63aca9af",content,!0,{sourceMap:!1})},814:function(e,r,t){"use strict";t(741)},815:function(e,r,t){(r=t(12)(!1)).push([e.i,".width[data-v-449af80a]{max-width:670px}@media only screen and (max-width:960px){.width[data-v-449af80a]{max-width:420px}}",""]),e.exports=r},916:function(e,r,t){"use strict";t.r(r);t(11),t(9),t(7),t(6),t(8),t(66);var o=t(24),n=t(1),c=t(36);function d(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}var l={middleware:"check_auth",data:function(){return{rules:{required:function(e){return!!e||"Password is required."},nospace:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},min:function(e){return e&&e.length>=8||"Min 8 characters"}},errorPasswordOld:"",errorPassword1:"",errorPassword2:"",change_snackbar:!1,deletetemp_snackbar:!1,delete_snackbar:!1,save_snackbar:!1,showPasswordOld:!1,showPassword1:!1,showPassword2:!1,hasName:!1,set_new_password_loading:!1,email:this.$store.state.auth.user.email,username:this.$store.state.auth.user.username,info:{old_password:"",new_password1:"",new_password2:""}}},mounted:function(){this.$store.dispatch("check_user_portfolio")},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(c.c)(["loggedInUser"])),methods:{clearErrorOld:function(){this.errorPasswordOld=""},clearErrorNew1:function(){this.errorPassword1=""},clearErrorNew2:function(){this.errorPassword2=""},save_information:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:({headers:{"content-type":"multipart/form-data",Authorization:e.$auth.strategy.token.get()}});try{console.log("changed successfully"),e.save_snackbar=!0}catch(e){console.log(e)}case 2:case"end":return r.stop()}}),r)})))()},set_new_password:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o,n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.set_new_password_loading=!0,t={headers:{"content-type":"multipart/form-data",Authorization:e.$auth.strategy.token.get()}},r.prev=2,(o=new FormData).append("old_password",e.info.old_password),o.append("new_password1",e.info.new_password1),o.append("new_password2",e.info.new_password2),console.log(o),r.next=10,e.$axios.$post("/v1/auth/password/change/",o,t);case 10:r.sent,e.set_new_password_loading=!1,e.info.old_password="",e.info.new_password1="",e.info.new_password2="",e.errorPasswordOld="",e.errorPassword1="",e.errorPassword2="",e.$refs.form.resetValidation(),console.log("new password changed successfully"),e.change_snackbar=!0,r.next=27;break;case 23:if(r.prev=23,r.t0=r.catch(2),e.set_new_password_loading=!1,r.t0.response.data)for(c in n=r.t0.response.data,console.log(n),n)"new_password1"=="".concat(c)&&(e.errorPassword1="".concat(n[c])),"new_password2"=="".concat(c)&&(e.errorPassword2="".concat(n[c])),"old_password"=="".concat(c)&&(e.errorPasswordOld="".concat(n[c]));case 27:case"end":return r.stop()}}),r,null,[[2,23]])})))()},delete_account:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:({headers:{"content-type":"multipart/form-data",Authorization:e.$auth.strategy.token.get()}});try{e.deletetemp_snackbar=!0}catch(e){console.log(e)}case 2:case"end":return r.stop()}}),r)})))()}}},w=(t(814),t(20)),m=t(23),f=t.n(m),_=t(596),h=t(588),v=t(197),k=t(598),y=t(605),P=t(609),x=t(67),component=Object(w.a)(l,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-app",[t("v-container",{staticClass:"width mx-auto"},[t("h2",{staticClass:"font-weight-medium mb-4"},[e._v("Settings")]),e._v(" "),t("v-card",{staticClass:"my-6 pa-2 width",attrs:{elevation:"0",outlined:""}},[t("div",{staticClass:"ma-2 ma-md-6"},[t("h3",{staticClass:"font-weight-medium my-4 my-md-6"},[e._v("User")]),e._v(" "),t("v-form",[t("v-text-field",{attrs:{readonly:"",label:"Email","prepend-icon":"mdi-account-circle"},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}}),e._v(" "),t("v-text-field",{attrs:{readonly:"",label:"Username","prepend-icon":"mdi-account-circle"},model:{value:e.username,callback:function(r){e.username=r},expression:"username"}})],1)],1)]),e._v(" "),t("v-card",{staticClass:"my-6 pa-2 width",attrs:{elevation:"0",outlined:""}},[t("div",{staticClass:"ma-2 ma-md-6"},[t("h3",{staticClass:"font-weight-medium my-4 my-md-6"},[e._v("Account")]),e._v(" "),t("v-form",{ref:"form"},[t("v-text-field",{attrs:{"error-messages":e.errorPasswordOld,rules:[e.rules.required],type:e.showPasswordOld?"text":"password",label:"Old password","prepend-icon":"mdi-lock","append-icon":e.showPasswordOld?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(r){e.showPasswordOld=!e.showPasswordOld},input:e.clearErrorOld},model:{value:e.info.old_password,callback:function(r){e.$set(e.info,"old_password",r)},expression:"info.old_password"}}),e._v(" "),t("v-text-field",{attrs:{"error-messages":e.errorPassword1,rules:[e.rules.required,e.rules.min],type:e.showPassword1?"text":"password",label:"Set new password","prepend-icon":"mdi-lock","append-icon":e.showPassword1?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(r){e.showPassword1=!e.showPassword1},input:e.clearErrorNew1},model:{value:e.info.new_password1,callback:function(r){e.$set(e.info,"new_password1",r)},expression:"info.new_password1"}}),e._v(" "),t("v-text-field",{attrs:{"error-messages":e.errorPassword2,type:e.showPassword2?"text":"password",label:"Confirm Password","prepend-icon":"mdi-lock","append-icon":e.showPassword2?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(r){e.showPassword2=!e.showPassword2},input:e.clearErrorNew2},model:{value:e.info.new_password2,callback:function(r){e.$set(e.info,"new_password2",r)},expression:"info.new_password2"}})],1),e._v(" "),t("v-btn",{staticClass:"text-decoration-none",attrs:{small:"",outlined:"",color:"black",dark:"",loading:e.set_new_password_loading},on:{click:e.set_new_password}},[e._v("Set New Password")])],1)]),e._v(" "),t("v-card",{staticClass:"my-6 pa-2 width",attrs:{elevation:"0",outlined:""}},[t("div",{staticClass:"ma-2 ma-md-6"},[t("h3",{staticClass:"font-weight-medium my-4 my-md-6"},[e._v("Delete Account")]),e._v(" "),t("p",[e._v("Deleting your account will make you loose all your data.")]),e._v(" "),t("v-btn",{staticClass:"text-decoration-none mt-2",attrs:{small:"",outlined:"",color:"error",dark:""},on:{click:e.delete_account}},[e._v("Delete Account")])],1)]),e._v(" "),t("v-snackbar",{model:{value:e.change_snackbar,callback:function(r){e.change_snackbar=r},expression:"change_snackbar"}},[e._v(" \n                Password changed successfully.\n            ")]),e._v(" "),t("v-snackbar",{model:{value:e.delete_snackbar,callback:function(r){e.delete_snackbar=r},expression:"delete_snackbar"}},[e._v(" \n                Account deleted successfully.\n            ")]),e._v(" "),t("v-snackbar",{model:{value:e.deletetemp_snackbar,callback:function(r){e.deletetemp_snackbar=r},expression:"deletetemp_snackbar"}},[e._v(" \n                Sorry, this feature is currently unavailable. Please contact us.\n            ")]),e._v(" "),t("v-snackbar",{model:{value:e.change_snackbar,callback:function(r){e.change_snackbar=r},expression:"change_snackbar"}},[e._v(" \n                Changes saved successfully.\n            ")])],1)],1)}),[],!1,null,"449af80a",null);r.default=component.exports;f()(component,{VApp:_.a,VBtn:h.a,VCard:v.a,VContainer:k.a,VForm:y.a,VSnackbar:P.a,VTextField:x.a})}}]);