(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{531:function(t,e,o){"use strict";o.r(e);o(11),o(7),o(5),o(4),o(6),o(59);var n=o(16),r=o(0),c=(o(29),o(47));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={computed:f(f({},Object(c.c)(["notifications","loggedInUser"])),{},{filteredNotifications:function(){if(this.notifications)return this.notifications.filter((function(t){return 0==t.is_seen}))},filteredNotificationsOld:function(){if(this.notifications)return this.notifications.filter((function(t){return 1==t.is_seen}))}}),methods:{seen:function(t,e){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,form;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{Authorization:"Bearer "+o.$store.state.auth.user.access_token}},(form=new FormData).append("e1t1object",e),form.append("is_seen","true"),n.next=6,o.$axios.$patch("/v1/notifications/"+t,form,r);case 6:o.$store.dispatch("check_notifications",o.loggedInUser.user.username),o.$router.push("/e1t1/"+e);case 8:case"end":return n.stop()}}),n)})))()},opene1t1:function(t){this.$router.push("/e1t1/"+t)},timeSince:function(t){var e=new Date,o=e.getMonth(),n=e.getDate(),r=e.getHours(),c=e.getMinutes(),l=e.getSeconds();o=("0"+ ++o).slice(-2),n=("0"+t).slice(-2),r=("0"+r).slice(-2),c=("0"+c).slice(-2),l=("0"+l).slice(-2);e.getFullYear();var f=Math.floor((e-t)/1e3);console.log("sec",f);var h=f/31536e3;return h>1?(console.log(Math.floor(h)+" years"),Math.floor(h)+" years"):(h=f/2592e3)>1?(console.log(Math.floor(h)+" months"),Math.floor(h)+" months"):(h=f/86400)>1?(console.log(Math.floor(h)+" days"),Math.floor(h)+" days"):(h=f/3600)>1?(console.log(Math.floor(h)+" hours"),Math.floor(h)+" hours"):(h=f/60)>1?(console.log(Math.floor(h)+" minutes"),Math.floor(h)+" minutes"):(console.log(Math.floor(f)+" seconds"),Math.floor(f)+" seconds")}}},v=o(21),d=o(24),_=o.n(d),m=o(353),y=o(349),O=o(342),w=o(351),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-container",[o("div",{staticClass:"ma-4x"},[o("h2",{staticClass:"my-4"},[t._v("Notifications")]),t._v(" "),o("h3",{staticClass:"font-weight-bold"},[t._v("New")]),t._v(" "),t._l(t.filteredNotifications,(function(e){return o("div",{key:e.id,staticClass:"my-1",staticStyle:{cursor:"pointer"},attrs:{width:"700"},on:{click:function(o){return t.seen(e.id,e.e1t1object)}}},[o("h4",[t._v("You have a notification from "+t._s(e.sender)+".")]),t._v(" "),o("p",{staticClass:"caption blue--text"},[t._v(t._s(e.time))]),t._v(" "),o("v-divider",{staticClass:"my-1"})],1)})),t._v(" "),o("v-divider",{staticClass:"my-4"}),t._v(" "),o("h3",{staticClass:"mt-4"},[t._v("Earlier")]),t._v(" "),t._l(t.filteredNotificationsOld,(function(e){return o("div",{key:e.id,staticClass:"my-1",staticStyle:{cursor:"pointer"},attrs:{width:"700"},on:{click:function(o){return t.opene1t1(e.e1t1object)}}},[o("h4",[t._v("You have a notification from "+t._s(e.sender)+".")]),t._v(" "),o("p",{staticClass:"caption blue--text"},[t._v(t._s(e.time))]),t._v(" "),o("v-spacer"),t._v(" "),o("v-divider",{staticClass:"my-1"})],1)}))],2)])],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{VApp:m.a,VContainer:y.a,VDivider:O.a,VSpacer:w.a})}}]);